<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets" template="template.xhtml">

	<ui:define name="pageTitle">
		<div id="wrappingDiv">
			<h1 style="text-align: center; color: black;">
				<h:outputText value="#{account.user.name}" />
				's Account
			</h1>
			<figure class="uk-overlay" style="height: 100%; width: 100%;">
				<figcaption class="uk-overlay-panel">NB gardens</figcaption>
			</figure>
		</div>
		<div class="boxthing" style="width: 100%;">
			<div
				style="height: 100px; display: block; padding: 5px; margin: 0 auto; width: 75%; text-align: center; padding: 20px;">
				Welcome to your account. This page shall display your account
				information with NB Gardens allowing you to view your order status
				(past and present), personal information, wish Lists and payment
				details.</div>
		</div>
	</ui:define>
	<ui:define name="body">
		<div id="box1"
			class="boxthing uk-width-medium-1-2 uk-width-large-1-2 uk-width-small-1-1"
			style="height: 200px; display: inline-block; float: left; padding: 20px;">
			<div class="uk-panel">

				<div class="uk-panel-badge uk-badge">
					<button class="uk-button" data-uk-modal="{target:'#modal1'}">Edit</button>
				</div>

				<h3 class="uk-panel-title">My Personal Info</h3>
				<table class="uk-table AT" id="PersonalInfoTable">
					<h:form>
						<tbody>
							<tr>
								<td>full name :</td>
								<td><h:inputText value="#{account.user.name}" /></td>
							</tr>
							<tr>
								<td>string address :</td>
								<td><h:inputText value="#{account.user.address.line1}" /></td>
							</tr>
							<tr>
								<td>postcode :</td>
								<td><h:inputText value="#{account.user.address.postcode}" /></td>
							</tr>
							<tr>
								<td>email :</td>
								<td><h:inputText value="#{account.user.email}" /></td>
							</tr>
							<tr>
								<td>mobile :</td>
								<td><h:inputText value="#{account.user.phone}" /></td>
							</tr>
							<tr>
								<td><h:commandButton value="Submit"
										action="#{account.updatePersonal}" /></td>
							</tr>
						</tbody>
					</h:form>
				</table>
			</div>
		</div>

		<div id="box2"
			class="boxthing uk-width-medium-1-2 uk-width-large-1-2 uk-width-small-1-1"
			style="height: 200px; display: inline-block; float: left; padding: 20px;">
			<div class="uk-panel">
				<div class="uk-panel-badge uk-badge">
					<button class="uk-button" data-uk-modal="{target:'#modal2'}">Show</button>
				</div>
				<h3 class="uk-panel-title">My Orders</h3>
				<h:form rendered="#{myorders.orders ne null}">
					<table class="uk-table AT" id="OrdersTable">
						<tbody>
							<tr>
								<td>Order ID</td>
								<td>Order Status</td>
								<td>date order placed :</td>
								<td>date order shipped :</td>
							</tr>
							<ui:repeat var="order" value="#{myorders.orders}">
								<tr>
									<td><h:outputText value="#{order.id}" /></td>
									<td><h:outputText value="#{order.orderStatus.name}" /></td>
									<td><h:outputText value="#{order.date}" /></td>
									<td><h:outputText value="#{order.dispatchDate}" rendered="#{order.dispatchDate ne null}"/></td>
								</tr>
							</ui:repeat>
						</tbody>
					</table>
				</h:form>
			</div>
		</div>

		<div id="box3"
			class="boxthing uk-width-medium-1-2 uk-width-large-1-2 uk-width-small-1-1"
			style="height: 200px; display: inline-block; float: left; padding: 20px;">
			<div class="uk-panel">
				<div class="uk-panel-badge uk-badge">
					<button class="uk-button" data-uk-modal="{target:'#modal3'}">Edit</button>
				</div>
				<h3 class="uk-panel-title">My payment info</h3>
				<h:form>
					<table class="uk-table AT" id="PaymentInfoTable">
						<tbody>
							<tr>
								<td>type of card :</td>
								<td><h:inputText value="#{account.payment.cardType}" /></td>
							</tr>
							<tr>
								<td>name on card :</td>
								<td><h:inputText value="#{account.payment.nameOnCard}" /></td>
							</tr>
							<tr>
								<td>card number :</td>
								<td><h:inputText value="#{account.payment.cardNumber}" /></td>
							</tr>
							<tr>
								<td>expiry date :</td>
								<td><h:inputText value="#{account.payment.expiryDate}" /></td>
							</tr>
							<tr>
								<td><h:commandButton value="Update"
										action="#{account.updatePayment}" /></td>
							</tr>
						</tbody>
					</table>
				</h:form>
			</div>
		</div>
	</ui:define>
</ui:composition>