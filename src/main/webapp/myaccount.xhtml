<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets" template="template.xhtml">

	<ui:define name="pageTitle">
		<h1 style="text-align: center;">Account Management</h1>
		<div class="boxthing" style="width: 100%;">
			<div
				style="height: 100px; display: block; padding: 5px; margin: 0 auto; width: 75%; text-align: center; padding: 20px;">
				<p>
					Hello
					<h:outputText value="#{account.user.name}" />
					, welcome to your account page!<br />
				</p>
			</div>
		</div>
	</ui:define>
	<ui:define name="body">
		<style>
html, body {
	height: 100%;
}
</style>
		<div id="box1" class="boxthing uk-width-medium-1-2 uk-width-small-1-1"
			style="padding: 20px;">
			<div class="uk-panel">
				<h3 class="uk-panel-title">My Personal Info</h3>
				<table class="uk-table AT" id="PersonalInfoTable">
					<h:form>
						<tbody>
							<tr>
								<td>Full name :</td>
								<td><h:inputText value="#{account.user.name}" /></td>
							</tr>
							<tr>
								<td>Address line1:</td>
								<td><h:inputText value="#{account.user.address.line1}" /></td>
							</tr>
							<tr>
								<td>Address line2:</td>
								<td><h:inputText value="#{account.user.address.line2}" /></td>
							</tr>
							<tr>
								<td>Address line3:</td>
								<td><h:inputText value="#{account.user.address.line3}" /></td>
							</tr>
							<tr>
								<td>Address line4:</td>
								<td><h:inputText value="#{account.user.address.line4}" /></td>
							</tr>
							<tr>
								<td>Postcode :</td>
								<td><h:inputText value="#{account.user.address.postcode}" /></td>
							</tr>
							<tr>
								<td>Email :</td>
								<td><h:inputText value="#{account.user.email}" /></td>
							</tr>
							<tr>
								<td>Mobile :</td>
								<td><h:inputText value="#{account.user.phone}" /></td>
							</tr>
						</tbody>
					</h:form>
				</table>
				<h:commandButton value="Submit" action="#{account.updatePersonal}" />
			</div>
		</div>
		<h:form rendered="#{myorders.orders ne null}">
			<div id="box2"
				class="boxthing uk-width-medium-1-2 uk-width-small-1-1"
				style="padding: 20px;">
				<div class="uk-panel">
					<h3 class="uk-panel-title">My Orders</h3>
					<table class="uk-table AT" id="OrdersTable">
						<tbody>
							<tr>
								<td>Order ID</td>
								<td>Order Status</td>
								<td>Order Total</td>
								<td>date order placed :</td>
								<td>date order shipped :</td>
							</tr>
							<ui:repeat var="order" value="#{myorders.orders}">
								<tr>
									<td><h:outputText value="#{order.id}" /></td>
									<td><h:outputText value="#{order.orderStatus.name}" /></td>
									<td><h:outputText
											value="Â£#{myorders.getOrderTotal(order)}" /></td>
									<td><h:outputText value="#{order.date}" /></td>
									<td><h:outputText value="#{order.dispatchDate}"
											rendered="#{order.dispatchDate ne null}" /></td>
								</tr>
							</ui:repeat>
						</tbody>
					</table>
				</div>
			</div>
		</h:form>
		<div id="box3" class="boxthing uk-width-medium-1-2 uk-width-small-1-1"
			style="padding: 20px;">
			<div class="uk-panel">
				<h3 class="uk-panel-title">My payment info</h3>
				<h:form>
					<table class="uk-table AT" id="PaymentInfoTable">
						<tbody>
							<tr>
								<td>Type of card :</td>
								<td><h:inputText value="#{account.payment.cardType}" /></td>
							</tr>
							<tr>
								<td>Name on card :</td>
								<td><h:inputText value="#{account.payment.nameOnCard}" /></td>
							</tr>
							<tr>
								<td>Card number :</td>
								<td><h:inputText value="#{account.payment.cardNumber}" /></td>
							</tr>
							<tr>
								<td>Expiry date :</td>
								<td><h:inputText value="#{account.payment.expiryDate}" /></td>
							</tr>
						</tbody>
					</table>
					<h:commandButton style="float:right;" value="Update"
						action="#{account.updatePayment}" />
				</h:form>
			</div>
		</div>
	</ui:define>
</ui:composition>